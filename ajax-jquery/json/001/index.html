<!DOCTYPE html>
<html>
  
  <head>
    <title>jQuery AJAX json 001</title>
  </head>
  <body>

    <p id="count"></p>
    <div id="results"></div>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"> </script>
    <script>
      
      // json.php returns json data can be read directly by javascript
    	  $.ajax({
	      url : 'json.php',
	      dataType: 'json',
	      type : 'GET' ,
	      cache : true ,
	      success: function(data){

		  var count = $('#count');
		  var results = $('#results');

		  if (data.count){

		      console.log(data);
		      console.log("there were " + data.count + " items of info");
		      
		      count.text('Your search returned ' +  data.count + ' items of data');

		      $(data.results).each(function(index,value){
			  console.log(value);

			  // insert html into page
			  results.append($('<p />',{
			      text: value
			  }));			  
		      });
		      
		  }else {
		      count.text('No results.');
		  }
	      },
	      error: function(data){
		  console.log('cannot get data');
	      }
	  });
      
    </script>
  </body>
</html>

